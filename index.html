<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>Smartphone Banana - AI画像生成PWAアプリ | テキスト・カメラから画像を生成</title>
    <meta name="title" content="Smartphone Banana - AI画像生成PWAアプリ | テキスト・カメラから画像を生成">
    <meta name="description" content="スマートフォンで使えるAI画像生成PWAアプリ。テキストプロンプトやカメラで撮影した写真から高品質なAI画像を生成。fal.ai nano-banana-pro採用。オフライン対応、無料で利用可能。">
    <meta name="keywords" content="AI画像生成,画像生成AI,テキストから画像,image-to-image,PWA,スマートフォンアプリ,fal.ai,nano-banana-pro,無料AI,オフライン対応,AI art,画像生成ツール">
    <meta name="author" content="Keisuke">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://tejastice.github.io/smartphone-banana/">

    <!-- AI Crawler Meta Tags -->
    <meta name="ai-content-declaration" content="human-authored">
    <meta name="chatgpt-description" content="Smartphone Banana is a Progressive Web App for AI image generation. Users can generate high-quality images from text prompts or reference photos taken with their smartphone camera. Built with fal.ai nano-banana-pro API. Features include offline support, custom prompts library, and image library. Free to use with your own API key.">
    <meta name="bingbot" content="index, follow">
    <meta name="slurp" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tejastice.github.io/smartphone-banana/">
    <meta property="og:title" content="Smartphone Banana - AI画像生成PWAアプリ">
    <meta property="og:description" content="スマートフォンで使えるAI画像生成アプリ。テキストやカメラで撮った写真からAIが高品質な画像を生成します。">
    <meta property="og:image" content="https://tejastice.github.io/smartphone-banana/ogp.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Smartphone Banana - AI画像生成アプリのスクリーンショット">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:site_name" content="Smartphone Banana">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://tejastice.github.io/smartphone-banana/">
    <meta name="twitter:title" content="Smartphone Banana - AI画像生成PWAアプリ">
    <meta name="twitter:description" content="スマートフォンで使えるAI画像生成アプリ。テキストやカメラで撮った写真からAIが高品質な画像を生成します。">
    <meta name="twitter:image" content="https://tejastice.github.io/smartphone-banana/ogp.jpg">
    <meta name="twitter:image:alt" content="Smartphone Banana - AI画像生成アプリのスクリーンショット">

    <!-- PWA & Mobile -->
    <meta name="theme-color" content="#FFD700">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="スマホバナナ">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Smartphone Banana">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Smartphone Banana",
      "alternateName": "スマホバナナ",
      "url": "https://tejastice.github.io/smartphone-banana/",
      "description": "スマートフォンで使えるAI画像生成PWAアプリ。テキストプロンプトやカメラで撮影した写真から高品質なAI画像を生成できます。",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Any",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "JPY"
      },
      "author": {
        "@type": "Person",
        "name": "Keisuke"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "5.0",
        "ratingCount": "1"
      },
      "featureList": [
        "テキストから画像生成 (Text-to-Image)",
        "画像から画像生成 (Image-to-Image)",
        "カメラ連携",
        "オフライン対応",
        "カスタムプロンプト保存",
        "画像ライブラリ機能",
        "PWAインストール対応"
      ],
      "screenshot": "https://tejastice.github.io/smartphone-banana/ogp.jpg",
      "softwareVersion": "1.0.16",
      "datePublished": "2025-01-23",
      "dateModified": "2025-01-23"
    }
    </script>

    <!-- Resources -->
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-512.png">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <img src="icons/icon-192.png" alt="Smartphone Banana" class="header-icon">
                <div class="header-text">
                    <h1>Smartphone Banana <span class="version">v1.0.16</span></h1>
                </div>
                <button id="installButton" class="install-button" style="display: none;" title="アプリをインストール">
                    📥
                </button>
            </div>
        </header>

        <div class="info-links">
            <a href="https://note.com/konho/n/n103c961a415e" class="info-link" target="_blank" rel="noopener noreferrer">📖 使い方・機能紹介</a>
        </div>

        <main>
            <div class="input-section">
                <div class="api-key-accordion">
                    <button type="button" class="accordion-toggle" id="apiKeyToggle">
                        <span>⚙️ API設定</span>
                        <span class="accordion-icon">▼</span>
                    </button>
                    <div class="api-warning" id="apiWarning">
                        ⚠️ APIキーを入力してください
                    </div>
                    <div class="accordion-content" id="apiKeyContent">
                        <div class="api-key-section">
                            <label for="api_key">FAL API Key:</label>
                            <input
                                type="password"
                                id="api_key"
                                placeholder="APIキーを入力..."
                                autocomplete="off"
                            >
                            <div class="api-key-buttons">
                                <button type="button" id="saveApiKeyBtn" class="api-btn save-btn">保存</button>
                                <button type="button" id="deleteApiKeyBtn" class="api-btn delete-btn">削除</button>
                            </div>
                            <small>
                                APIキーは<a href="https://fal.ai/dashboard/keys" target="_blank" rel="noopener noreferrer">こちら</a>から取得できます。<br>
                                APIキーはブラウザのローカルストレージに保存されます（暗号化されません）。他人と共有する端末では使用しないでください。
                            </small>
                        </div>
                    </div>
                </div>

                <hr class="section-divider">

                <label for="prompt">プロンプトを入力してください:</label>
                <textarea
                    id="prompt"
                    rows="4"
                    placeholder="例: An action shot of a black lab swimming in an inground suburban swimming pool..."
                ></textarea>

                <div class="custom-prompts-section">
                    <div class="custom-prompts-accordion">
                        <button type="button" class="accordion-toggle" id="customPromptsToggle">
                            <span>📝 カスタムプロンプト設定</span>
                            <span class="accordion-icon">▼</span>
                        </button>
                        <div class="accordion-content" id="customPromptsContent">
                            <div class="custom-prompts-list" id="customPromptsList"></div>
                        </div>
                    </div>
                    <div class="custom-prompts-buttons" id="customPromptsButtons"></div>
                </div>

                <hr class="section-divider">

                <div class="image-upload-section">
                    <label>参照画像 (最大4枚、オプション):</label>
                    <input type="file" id="imageFileInput" accept="image/*" multiple style="display: none;">
                    <input type="file" id="cameraFileInput" accept="image/*" capture="environment" style="display: none;">
                    <div class="upload-controls" id="uploadControls">
                        <div class="upload-drop-zone" id="uploadDropZone">
                            <p>📷 クリックまたはドラッグ&ドロップで画像を追加</p>
                            <small>最大4枚まで選択可能</small>
                        </div>
                        <div class="camera-zone" id="cameraZone">
                            <button type="button" class="camera-btn" id="cameraBtn" title="カメラで撮影">
                                <img src="icons/camera.png" alt="カメラ" class="camera-icon">
                            </button>
                        </div>
                    </div>
                    <div class="image-preview-container" id="imagePreviewContainer"></div>
                </div>

                <div class="image-library-accordion">
                    <button type="button" class="accordion-toggle" id="imageLibraryToggle">
                        <span>🖼️ 画像ライブラリ</span>
                        <span class="accordion-icon">▼</span>
                    </button>
                    <div class="accordion-content" id="imageLibraryContent">
                        <div class="image-library-section">
                            <input type="file" id="libraryFileInput" accept="image/*" multiple style="display: none;">
                            <button type="button" class="library-add-btn" id="libraryAddBtn">ライブラリに画像を追加（クリックまたはドラッグ&ドロップ）</button>
                            <div class="image-library-grid" id="imageLibraryGrid"></div>
                        </div>
                    </div>
                </div>

                <div class="official-library-accordion">
                    <button type="button" class="accordion-toggle" id="officialLibraryToggle">
                        <span>🏛️ 公式ライブラリ</span>
                        <span class="accordion-icon">▼</span>
                    </button>
                    <div class="accordion-content" id="officialLibraryContent">
                        <div class="official-library-section">
                            <p class="official-library-description">テンプレート画像から選択できます</p>
                            <div class="official-library-grid" id="officialLibraryGrid"></div>
                        </div>
                    </div>
                </div>

                <hr class="section-divider">

                <div class="settings">
                    <div class="setting-item">
                        <label for="num_images">画像数:</label>
                        <select id="num_images">
                            <option value="1" selected>1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <label for="aspect_ratio">アスペクト比:</label>
                        <select id="aspect_ratio">
                            <option value="1:1" selected>1:1 (正方形)</option>
                            <option value="16:9">16:9 (横長)</option>
                            <option value="9:16">9:16 (縦長)</option>
                            <option value="4:3">4:3</option>
                            <option value="3:4">3:4</option>
                            <option value="21:9">21:9</option>
                            <option value="3:2">3:2</option>
                            <option value="2:3">2:3</option>
                            <option value="5:4">5:4</option>
                            <option value="4:5">4:5</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <label for="resolution">解像度:</label>
                        <select id="resolution">
                            <option value="1K" selected>1K</option>
                            <option value="2K">2K</option>
                            <option value="4K">4K</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <label for="output_format">フォーマット:</label>
                        <select id="output_format">
                            <option value="png" selected>PNG</option>
                            <option value="jpeg">JPEG</option>
                            <option value="webp">WebP</option>
                        </select>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="generateBtn" class="generate-btn" disabled>
                        <span class="btn-text">利用規約に同意して画像生成</span>
                        <span class="btn-loader" style="display: none;">生成中...</span>
                    </button>
                    <button id="cancelBtn" class="cancel-btn" style="display: none;">
                        キャンセル
                    </button>
                </div>

                <div class="terms-links">
                    <a href="https://note.com/konho/n/n103c961a415e" class="terms-link" target="_blank" rel="noopener noreferrer">📄 利用規約・プライバシーポリシー</a>
                </div>
            </div>

            <div id="status" class="status"></div>

            <div id="results" class="results"></div>
        </main>

        <footer>
            <p>Created by Keisuke</p>
            <p>
                <a href="https://github.com/tejastice/smartphone-banana" target="_blank" rel="noopener noreferrer">
                    Smartphone Bananaはオープンソースです - GitHub
                </a>
            </p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
